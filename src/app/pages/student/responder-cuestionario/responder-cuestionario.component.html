<div class="container-fluid g-0">
  <app-topbar (navbarMenu)="navbarStatus = $event;" class="fixed-topbar"></app-topbar>

  <main>
    <app-navbarmenu [navbarStatus]="navbarStatus" [ngClass]="{'app-side-nav-open': navbarStatus}"
      class="fixed-side-nav"></app-navbarmenu>

    <div class="display-area p-3" [ngClass]="{'display-area-shrink': navbarStatus}">

      <div class="heart-container d-flex justify-content-center">
        <span *ngFor="let i of getCorazonesRestantes()"
          style="color: red; font-size: 40px; line-height: 40px; margin: 10px;">&#10084;</span>
      </div>
      <hr>

      <div class="container pt-4">
        <div class="text-center mb-4">
          <h3 class="display-5">{{ allQuestions[currentQuestionIndex].enunciado }}</h3>
          <p class="lead">Tiempo restante: <span class="text-danger">{{ timer }}</span> segundos</p>
        </div>

        <form [formGroup]="cuestionarioForm" (ngSubmit)="onSubmit()">
          <div class="d-flex flex-wrap justify-content-center">
            <div *ngFor="let opcion of allQuestions[currentQuestionIndex]?.opcion" class="card m-3 option-card">
              <button type="button" (click)="onOptionSelect(opcion.contenido.path)" class="btn p-1">
                <div class="card-img-container">
                <img [src]="'http://localhost:4000/' + opcion.contenido.path" alt="Imagen de la opciÃ³n"
                  class="card-img-top img-fluid option-img custom-img w-100 h-100">
                </div>
              </button>
            </div>
          </div>
        </form>
        <div *ngIf="feedback" class="mt-4 alert alert-info text-center">
          <p class="mb-0">{{ feedback }}</p>
        </div>
      </div>

    </div>

  </main>
</div>

<style>
  img {
color: #0056b3;
}
.card-img-container {
width: 100%;
height: 300px;
overflow: hidden;
}
.card-img-top {
width: 100%;
height: 100%;
object-fit: cover;
object-position: center;
}
</style>